/*
 * The equations of PMSM.
 */

X : [id, iq, th, wR, Q];
dF : [	(Ux*cos(th)+Uy*sin(th) - id*R + wR*iq*Lq) / Ld,
	(Uy*cos(th)-Ux*sin(th) - iq*R - wR*id*Ld - wR*E + Q) / Lq,
	wR,
	0, 0 ];

F : X + dF * dT;
A : jacobian(F, X);

optimize(A);

